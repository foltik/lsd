{% import "page.tera.html" as page %}
{{ page::start(title="Posts") }}
<div class="posts max-w-6xl mx-auto p-4 flex flex-col">
  <div class="flex items-center">
    <h1 class="mr-4">Posts</h1>
    <a class="button" href="/p/new">New Post</a>
  </div>
  {% for post in posts %}
  <div class="post py-4 border-b last:border-b-0">
    <h2><a href="/p/{{ post.url }}">{{ post.title }}</a></h2>
    <div class="info mb-2 text-sm">
      By {{ post.author }} &bull; Updated
      <time datetime="{{ post.updated_at }}">
        {{ post.updated_at | format_datetime(format="%b %d, %Y") }}
      </time>
    </div>
    <div class="actions flex *:mr-2">
      <a class="button" href="/p/{{ post.url }}/edit">Edit</a>
      <!--
      <form method="POST" action="/p/{{ post.url }}/duplicate">
        <button type="submit">Duplicate</button>
      </form>
      -->
      <form method="POST" action="/p/{{ post.url }}/delete" onsubmit="return confirm('Are you sure you want to delete this post?');">
        <button type="submit">Delete</button>
      </form>
    </div>
  </div>
  {% endfor %}
</div>
{{ page::end() }}
